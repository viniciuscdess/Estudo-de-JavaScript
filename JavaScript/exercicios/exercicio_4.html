<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Exercicio 4</title>
</head>

<body>
	<script>
		const booksByCategory = [
		    {
		        category: "Riqueza",
		        books: [
		            {
		                title: "Os segredos da mente milionária",
		                author: "T. Harv Eker",
		            },
		            {
		                title: "O homem mais rico da Babilônia",
		                author: "George S. Clason",
		            },
		            {
		                title: "Pai rico, pai pobre",
		                author: "Robert T. Kiyosaki e Sharon L. Lechter",
		            },
		        ],
		    },
		    {
		        category: "Inteligência Emocional",
		        books: [
		            {
		                title: "Você é Insubstituível",
		                author: "Augusto Cury",
		            },
		            {
		                title: "Ansiedade – Como enfrentar o mal do século",
		                author: "Augusto Cury",
		            },
		            {
		                title: "Os 7 hábitos das pessoas altamente eficazes",
		                author: "Stephen R. Covey",
		            },
		        ],
		    },
		];
		const totalCategories = booksByCategory.length;

		console.log(totalCategories);
		for(let category of booksByCategory) { // criando uma variavel 'category' e pegando o obj books category
			console.log('Livros da categoria:', category.category); //category vira um item de dentro do objeto, ai pegando a categoria de dentro
			console.log(category.category.length);//contando o numero de categorias
		}

		function countAuthors() {
			let authors = []; //cirando um array para armazenar os nomes dos autores

			for(let category of booksByCategory) { //criando uma variavel 'category' do obj booksbycategiory
				for (let book of category.books) { //cirando uma varivael 'book' e falando pra pegar os books de category
					//index of é para "buscar" algum valor dentro do arary
					if(authors.indexOf(book.author) == -1) // verificando se nao tem o nome do autor no array
					{
						authors.push(book.author); //adicionando o autor ao aray de autores
					}
				}
			}
			console.log("total de autores: ",authors.length);
		}
		countAuthors();

		function booksOfAuthor(author) {
			let books = [];

			for(let category of booksByCategory) {
				for(let book of category.books) {
					if(book.author === author) {
						books.push(book.title);
					}
				}
			}
			console.log(`Livros do ${author}: ${books.join(", ")}`); //join() = transforma um array em string e fala o jeito pra separar
		}
		booksOfAuthor('Augusto Cury');

		// function booksOfAugustoCury() {
		// 	let books = [];

		// 	for(let category of booksByCategory) {
		// 		for(let book of category.books) {
		// 			if(book.author === 'Augusto Cury') {
		// 				books.push(book.title);
		// 			}
		// 		}
		// 	}
		// 	console.log("Livros do autor: ", books);
		// }
		// booksOfAugustoCury();

	</script>
</body>
</html>